{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/vladichka/VladTaras/Boichuk/src/containers/Works/CreateWork/CreateWork.js\";\nimport React, { Component } from \"react\";\nimport classes from \"../../Login/Login.module.css\";\nimport classesTwo from \"./CreateWork.module.css\";\nimport Card from \"../../../components/UI/Card/Card\";\nimport InputElement from \"../../../components/UI/Input/Input\";\nimport ButtonElement from \"../../../components/UI/Button/Button\";\nimport * as actionTypes from \"../../../store/actions/actionTypes\";\nimport * as actions from \"../../../store/actions/index\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport Spinner from \"../../../components/UI/Spinner/Spinner\";\n\nclass CreateWork extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      controls: {\n        WorkName: {\n          elementType: \"input\",\n          elementConfig: {\n            type: \"\",\n            placeholder: \"Dota 2\"\n          },\n          label: \"Work name\",\n          touched: false,\n          value: \"\",\n          validation: {\n            required: true,\n            valid: false,\n            minLength: 1,\n            maxLength: 20,\n            isEmail: false\n          }\n        },\n        WorkDescription: {\n          elementType: \"textarea\",\n          elementConfig: {\n            type: \"\",\n            placeholder: \"At w3schools.com you will learn how to make a website. They offer free tutorials in all web development technologies.\"\n          },\n          label: \"Description\",\n          touched: false,\n          value: \"\",\n          validation: {\n            required: true,\n            valid: false,\n            minLength: 3,\n            maxLength: 500\n          }\n        }\n      },\n      signUp: true\n    };\n\n    this.inputChangedHandler = (event, controlName) => {\n      const updatedControls = { ...this.state.controls,\n        [controlName]: { ...this.state.controls[controlName],\n          value: event.target.value,\n          validation: { ...this.state.controls[controlName].validation,\n            valid: this.checkValidity(event.target.value, this.state.controls[controlName].validation)\n          },\n          touched: true\n        }\n      };\n      this.setState({\n        controls: updatedControls\n      });\n    };\n\n    this.submitHandler = event => {\n      event.preventDefault();\n      this.props.onCreateWork(this.state.controls.WorkName.value, this.state.controls.WorkDescription.value, this.props.userId, this.props.token);\n    };\n  }\n\n  componentDidMount() {\n    this.props.setRedirectPath(\"null\");\n  }\n\n  checkValidity(value, rules) {\n    let isValid = true;\n\n    if (!rules) {\n      return true;\n    }\n\n    if (rules.required) {\n      isValid = value.trim() !== \"\" && isValid;\n    }\n\n    if (rules.minLength) {\n      isValid = value.length >= rules.minLength && isValid;\n    }\n\n    if (rules.maxLength) {\n      isValid = value.length <= rules.maxLength && isValid;\n    }\n\n    if (rules.isEmail) {\n      const pattern = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n      console.log(value);\n      isValid = pattern.test(value) && isValid;\n      console.log(isValid);\n    }\n\n    if (rules.isNumeric) {\n      const pattern = /^\\d+$/;\n      isValid = pattern.test(value) && isValid;\n    }\n\n    return isValid;\n  }\n\n  render() {\n    const formElementsArray = [];\n\n    for (let key in this.state.controls) {\n      formElementsArray.push({\n        id: key,\n        config: this.state.controls[key]\n      });\n    }\n\n    let form = formElementsArray.map(element => {\n      return /*#__PURE__*/_jsxDEV(InputElement, {\n        changed: event => this.inputChangedHandler(event, element.id),\n        elementType: element.config.elementType,\n        elementConfig: element.config.elementConfig,\n        invalid: !element.config.validation.valid,\n        value: element.config.value,\n        shouldValidate: element.config.validation.required,\n        touched: element.config.touched,\n        label: element.config.label\n      }, element.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this);\n    });\n    let error = null;\n\n    if (this.props.error) {\n      error = /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"style\", {\n          children: \"@import url('https://fonts.googleapis.com/css2?family=Russo+One&display=swap');\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.errorMessage,\n          children: this.props.error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this);\n      console.log(\"fefef\");\n    }\n\n    let spinner = null;\n\n    if (this.props.loading) {\n      spinner = /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this);\n    }\n\n    let redirect = null;\n\n    if (this.props.redirect) {\n      redirect = /*#__PURE__*/_jsxDEV(Redirect, {\n        to: this.props.redirect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 18\n      }, this);\n    }\n\n    if (this.props.redirect == null || this.props.redirect == \"null\") {\n      redirect = null;\n    }\n\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [spinner, /*#__PURE__*/_jsxDEV(Card, {\n        titleName: \"Create new work\",\n        width: \"500px\",\n        children: [redirect, /*#__PURE__*/_jsxDEV(\"form\", {\n          className: classes.form,\n          onSubmit: this.submitHandler,\n          children: [form, error, /*#__PURE__*/_jsxDEV(ButtonElement, {\n            btnType: \"Success\",\n            children: \"CREATE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.auth.token,\n    userId: state.auth.userId,\n    error: state.auth.error,\n    redirect: state.auth.redirect,\n    loading: state.auth.loading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onCreateWork: (name, description, userId, token) => dispatch(actions.createWork(name, description, userId, token)),\n    setRedirectPath: path => dispatch(actions.setRedirectPath(path))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateWork);","map":{"version":3,"sources":["/home/vladichka/VladTaras/Boichuk/src/containers/Works/CreateWork/CreateWork.js"],"names":["React","Component","classes","classesTwo","Card","InputElement","ButtonElement","actionTypes","actions","connect","Redirect","Spinner","CreateWork","state","controls","WorkName","elementType","elementConfig","type","placeholder","label","touched","value","validation","required","valid","minLength","maxLength","isEmail","WorkDescription","signUp","inputChangedHandler","event","controlName","updatedControls","target","checkValidity","setState","submitHandler","preventDefault","props","onCreateWork","userId","token","componentDidMount","setRedirectPath","rules","isValid","trim","length","pattern","console","log","test","isNumeric","render","formElementsArray","key","push","id","config","form","map","element","error","errorMessage","spinner","loading","redirect","mapStateToProps","auth","mapDispatchToProps","dispatch","name","description","createWork","path"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport classes from \"../../Login/Login.module.css\";\nimport classesTwo from \"./CreateWork.module.css\";\nimport Card from \"../../../components/UI/Card/Card\";\nimport InputElement from \"../../../components/UI/Input/Input\";\nimport ButtonElement from \"../../../components/UI/Button/Button\";\nimport * as actionTypes from \"../../../store/actions/actionTypes\";\nimport * as actions from \"../../../store/actions/index\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport Spinner from \"../../../components/UI/Spinner/Spinner\";\nclass CreateWork extends Component {\n  state = {\n    controls: {\n      WorkName: {\n        elementType: \"input\",\n        elementConfig: {\n          type: \"\",\n          placeholder: \"Dota 2\",\n        },\n        label: \"Work name\",\n        touched: false,\n        value: \"\",\n        validation: {\n          required: true,\n          valid: false,\n          minLength: 1,\n          maxLength: 20,\n          isEmail: false,\n        },\n      },\n      WorkDescription: {\n        elementType: \"textarea\",\n        elementConfig: {\n          type: \"\",\n          placeholder:\n            \"At w3schools.com you will learn how to make a website. They offer free tutorials in all web development technologies.\",\n        },\n        label: \"Description\",\n        touched: false,\n        value: \"\",\n        validation: {\n          required: true,\n          valid: false,\n          minLength: 3,\n          maxLength: 500,\n        },\n      },\n    },\n    signUp: true,\n  };\n  componentDidMount() {\n    this.props.setRedirectPath(\"null\");\n  }\n  checkValidity(value, rules) {\n    let isValid = true;\n    if (!rules) {\n      return true;\n    }\n    if (rules.required) {\n      isValid = value.trim() !== \"\" && isValid;\n    }\n    if (rules.minLength) {\n      isValid = value.length >= rules.minLength && isValid;\n    }\n    if (rules.maxLength) {\n      isValid = value.length <= rules.maxLength && isValid;\n    }\n    if (rules.isEmail) {\n      const pattern = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n      console.log(value);\n      isValid = pattern.test(value) && isValid;\n      console.log(isValid);\n    }\n    if (rules.isNumeric) {\n      const pattern = /^\\d+$/;\n      isValid = pattern.test(value) && isValid;\n    }\n    return isValid;\n  }\n  inputChangedHandler = (event, controlName) => {\n    const updatedControls = {\n      ...this.state.controls,\n      [controlName]: {\n        ...this.state.controls[controlName],\n        value: event.target.value,\n        validation: {\n          ...this.state.controls[controlName].validation,\n          valid: this.checkValidity(\n            event.target.value,\n            this.state.controls[controlName].validation\n          ),\n        },\n        touched: true,\n      },\n    };\n    this.setState({ controls: updatedControls });\n  };\n  submitHandler = (event) => {\n    event.preventDefault();\n    this.props.onCreateWork(\n      this.state.controls.WorkName.value,\n      this.state.controls.WorkDescription.value,\n      this.props.userId,\n      this.props.token\n    );\n  };\n  render() {\n    const formElementsArray = [];\n    for (let key in this.state.controls) {\n      formElementsArray.push({\n        id: key,\n        config: this.state.controls[key],\n      });\n    }\n    let form = formElementsArray.map((element) => {\n      return (\n        <InputElement\n          key={element.id}\n          changed={(event) => this.inputChangedHandler(event, element.id)}\n          elementType={element.config.elementType}\n          elementConfig={element.config.elementConfig}\n          invalid={!element.config.validation.valid}\n          value={element.config.value}\n          shouldValidate={element.config.validation.required}\n          touched={element.config.touched}\n          label={element.config.label}\n        />\n      );\n    });\n    let error = null;\n    if (this.props.error) {\n      error = (\n        <React.Fragment>\n          <style>\n            @import\n            url('https://fonts.googleapis.com/css2?family=Russo+One&display=swap');\n          </style>\n          <div className={classes.errorMessage}>{this.props.error}</div>\n        </React.Fragment>\n      );\n      console.log(\"fefef\");\n    }\n    let spinner = null;\n    if (this.props.loading) {\n      spinner = <Spinner />;\n    }\n    let redirect = null;\n    if (this.props.redirect) {\n      redirect = <Redirect to={this.props.redirect} />;\n    }\n    if (this.props.redirect == null || this.props.redirect == \"null\") {\n      redirect = null;\n    }\n\n    return (\n      <React.Fragment>\n        {spinner}\n        <Card titleName=\"Create new work\" width=\"500px\">\n          {redirect}\n          <form className={classes.form} onSubmit={this.submitHandler}>\n            {form}\n            {error}\n            <ButtonElement btnType=\"Success\">CREATE</ButtonElement>\n          </form>\n        </Card>\n      </React.Fragment>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n    return {\n        token: state.auth.token,\n        userId: state.auth.userId,\n        error: state.auth.error,\n        redirect: state.auth.redirect,\n        loading: state.auth.loading,\n      };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onCreateWork: (name, description, userId, token) =>\n      dispatch(actions.createWork(name, description, userId, token)),\n    setRedirectPath: (path) => dispatch(actions.setRedirectPath(path)),\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateWork);\n"]},"metadata":{},"sourceType":"module"}