{"ast":null,"code":"import * as actionTypes from \"./actionTypes\";\nimport axios from \"axios\";\nexport const authStart = () => {\n  return {\n    type: actionTypes.AUTH_START\n  };\n};\nexport const authSuccess = (token, userId) => {\n  return {\n    type: actionTypes.AUTH_SUCCESS,\n    token: token,\n    userId: userId\n  };\n};\nexport const authFail = error => {\n  return {\n    type: actionTypes.AUTH_FAIL,\n    error: error\n  };\n};\nexport const auth = (login, password, repeatPassword, nickname) => {\n  return dispatch => {\n    dispatch(authStart());\n\n    if (nickname.length < 4 || nickname.length > 25) {\n      dispatch(authFail(\"Ooops, nickname has to be between 4 and 25 characters!\"));\n    } else if (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(login) == false) {\n      dispatch(authFail(\"Ooops, it seems that email isn't correct!\"));\n    } else if (password.length < 6 || password.length > 20) {\n      dispatch(authFail(\"Ooops, password has to be between 6 and 20 characters!\"));\n    } else if (repeatPassword !== password) {\n      dispatch(authFail(\"Ooops, passwords do not match!\"));\n    } else {\n      const authData = {\n        email: login,\n        password: password,\n        returnSecureToken: true\n      };\n      axios.post(\"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyByJGBJ1ZfClAOLx6PR3391TK2f7bZM6bs\", authData).then(response => {\n        console.log(response);\n        dispatch(authSuccess(response.data.idToken, response.data.localId, nickname));\n        return axios.post(`https://strongmanagment-default-rtdb.firebaseio.com/users.json?auth=${response.data.idToken}`, {\n          nickname: nickname,\n          userId: response.data.localId\n        });\n      }).then(response => {\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n\n        if (typeof error == \"string\") {\n          dispatch(authFail(error));\n        } else {\n          // if error.response \"ooips email already exists\"\n          dispatch(authFail(\"Ooops user with this email already exists\"));\n        }\n      });\n    }\n  };\n};\nexport const loginStart = () => {\n  return {\n    type: actionTypes.LOGIN_START\n  };\n};\nexport const loginSuccess = (token, userId) => {\n  return {\n    type: actionTypes.LOGIN_SUCCESS,\n    token: token,\n    userId: userId\n  };\n};\nexport const loginFail = error => {\n  return {\n    type: actionTypes.LOGIN_FAIL,\n    error: error\n  };\n};\nexport const login = (login, password) => {\n  return dispatch => {\n    dispatch(loginStart());\n\n    if (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(login) == false) {\n      dispatch(loginFail(\"Ooops, it seems that email isn't correct!\"));\n    } else if (password.length < 6 || password.length > 20) {\n      dispatch(loginFail(\"Ooops, password has to be between 6 and 20 characters!\"));\n    } else {\n      const authData = {\n        email: login,\n        password: password,\n        returnSecureToken: true\n      };\n      axios.post(\"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyByJGBJ1ZfClAOLx6PR3391TK2f7bZM6bs\", authData).then(response => {\n        console.log(response);\n        dispatch(loginSuccess(response.data.idToken, response.data.localId));\n      }).catch(error => {\n        console.log(error);\n\n        if (typeof error == \"string\") {\n          dispatch(loginFail(error));\n        } else {\n          // if error.response \"ooips email already exists\"\n          dispatch(loginFail(\"Ooops, login or password is incorrect\"));\n        }\n      });\n    }\n  };\n};\nexport const setPath = path => {\n  return {\n    type: actionTypes.SET_PATH,\n    path: path\n  };\n};\nexport const setRedirectPath = path => {\n  return dispatch => {\n    if (path == \"null\") {\n      dispatch(setPath(\"null\"));\n    } else {\n      dispatch(setPath(path));\n    }\n  };\n};\nexport const logout = () => {\n  return {\n    type: actionTypes.LOGOUT\n  };\n}; //\n//\n//\n\nexport const createWorkFail = error => {\n  return {\n    type: actionTypes.CREATE_WORK_FAIL,\n    error: error\n  };\n};\nexport const createWorkStart = () => {\n  return {\n    type: actionTypes.CREATE_WORK_START\n  };\n};\nexport const createWorkSuccess = () => {\n  return {\n    type: actionTypes.CREATE_WORK_SUCCESS\n  };\n};\nexport const createWork = (name, description, userId, token) => {\n  return dispatch => {\n    dispatch(createWorkStart());\n\n    if (name.length < 1 || name.length > 50) {\n      dispatch(createWorkFail(\"Ooops, name has to be between 1 and 20 characters!\"));\n    } else if (description.length < 3 || description.length > 500) {\n      dispatch(createWorkFail(\"Ooops, description has to be between 3 and 500 characters!\"));\n    } else {\n      const work = {\n        name: name,\n        description: description,\n        ownerId: userId,\n        workers: []\n      };\n      axios.post(`https://strongmanagment-default-rtdb.firebaseio.com/works.json?auth=${token}`, work).then(response => {\n        console.log(response);\n        dispatch(createWorkSuccess());\n      }).catch(error => {\n        console.log(error);\n\n        if (typeof error == \"string\") {\n          dispatch(createWorkFail(error));\n        } else {\n          console.log(error); // if error.response \"ooips email already exists\"\n\n          dispatch(createWorkFail(\"Ooops, some propblem exists\"));\n        }\n      });\n    }\n  };\n};\nexport const uploadWorksStart = () => {\n  return {\n    type: actionTypes.UPLOAD_WORKS_START\n  };\n};\nexport const uploadWorksFail = error => {\n  return {\n    type: actionTypes.UPLOAD_WORKS_FAIL,\n    error: error\n  };\n};\nexport const uploadWorksSuccess = works => {\n  return {\n    type: actionTypes.UPLOAD_WORKS_SUCCESS,\n    works: works\n  };\n};\n\nfunction getUserWorks(userId, worksObject) {\n  let worksArray = [];\n  Object.values(worksObject).map(work => {\n    if (work.ownerId == userId) {\n      worksArray.push(work);\n    }\n  });\n}\n\nexport const uploadWorks = (userId, token) => {\n  return dispatch => {\n    dispatch(uploadWorksStart());\n    axios.get(`https://strongmanagment-default-rtdb.firebaseio.com/works.json?auth=${token}`).then(response => {\n      console.log(response.data);\n      dispatch(uploadWorksSuccess(getUserWorks(userId, response.data)));\n    }).catch(error => {\n      console.log(error);\n\n      if (typeof error == \"string\") {\n        dispatch(uploadWorksFail(error));\n      } else {\n        console.log(error); // if error.response \"ooips email already exists\"\n\n        dispatch(uploadWorksFail(\"Ooops, some propblem exists\"));\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/home/vladichka/proga/Новий-WinRAR-archive/NewManager/src/store/actions/actions.js"],"names":["actionTypes","axios","authStart","type","AUTH_START","authSuccess","token","userId","AUTH_SUCCESS","authFail","error","AUTH_FAIL","auth","login","password","repeatPassword","nickname","dispatch","length","test","authData","email","returnSecureToken","post","then","response","console","log","data","idToken","localId","catch","loginStart","LOGIN_START","loginSuccess","LOGIN_SUCCESS","loginFail","LOGIN_FAIL","setPath","path","SET_PATH","setRedirectPath","logout","LOGOUT","createWorkFail","CREATE_WORK_FAIL","createWorkStart","CREATE_WORK_START","createWorkSuccess","CREATE_WORK_SUCCESS","createWork","name","description","work","ownerId","workers","uploadWorksStart","UPLOAD_WORKS_START","uploadWorksFail","UPLOAD_WORKS_FAIL","uploadWorksSuccess","works","UPLOAD_WORKS_SUCCESS","getUserWorks","worksObject","worksArray","Object","values","map","push","uploadWorks","get"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,eAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAC7B,SAAO;AAAEC,IAAAA,IAAI,EAAEH,WAAW,CAACI;AAApB,GAAP;AACD,CAFM;AAGP,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC5C,SAAO;AACLJ,IAAAA,IAAI,EAAEH,WAAW,CAACQ,YADb;AAELF,IAAAA,KAAK,EAAEA,KAFF;AAGLC,IAAAA,MAAM,EAAEA;AAHH,GAAP;AAKD,CANM;AAOP,OAAO,MAAME,QAAQ,GAAIC,KAAD,IAAW;AACjC,SAAO;AAAEP,IAAAA,IAAI,EAAEH,WAAW,CAACW,SAApB;AAA+BD,IAAAA,KAAK,EAAEA;AAAtC,GAAP;AACD,CAFM;AAGP,OAAO,MAAME,IAAI,GAAG,CAACC,KAAD,EAAQC,QAAR,EAAkBC,cAAlB,EAAkCC,QAAlC,KAA+C;AACjE,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACf,SAAS,EAAV,CAAR;;AACA,QAAIc,QAAQ,CAACE,MAAT,GAAkB,CAAlB,IAAuBF,QAAQ,CAACE,MAAT,GAAkB,EAA7C,EAAiD;AAC/CD,MAAAA,QAAQ,CACNR,QAAQ,CAAC,wDAAD,CADF,CAAR;AAGD,KAJD,MAIO,IACL,uEAAuEU,IAAvE,CACEN,KADF,KAEK,KAHA,EAIL;AACAI,MAAAA,QAAQ,CAACR,QAAQ,CAAC,2CAAD,CAAT,CAAR;AACD,KANM,MAMA,IAAIK,QAAQ,CAACI,MAAT,GAAkB,CAAlB,IAAuBJ,QAAQ,CAACI,MAAT,GAAkB,EAA7C,EAAiD;AACtDD,MAAAA,QAAQ,CACNR,QAAQ,CAAC,wDAAD,CADF,CAAR;AAGD,KAJM,MAIA,IAAIM,cAAc,KAAKD,QAAvB,EAAiC;AACtCG,MAAAA,QAAQ,CAACR,QAAQ,CAAC,gCAAD,CAAT,CAAR;AACD,KAFM,MAEA;AACL,YAAMW,QAAQ,GAAG;AACfC,QAAAA,KAAK,EAAER,KADQ;AAEfC,QAAAA,QAAQ,EAAEA,QAFK;AAGfQ,QAAAA,iBAAiB,EAAE;AAHJ,OAAjB;AAKArB,MAAAA,KAAK,CACFsB,IADH,CAEI,uGAFJ,EAGIH,QAHJ,EAKGI,IALH,CAKSC,QAAD,IAAc;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAR,QAAAA,QAAQ,CACNZ,WAAW,CAACoB,QAAQ,CAACG,IAAT,CAAcC,OAAf,EAAwBJ,QAAQ,CAACG,IAAT,CAAcE,OAAtC,EAA+Cd,QAA/C,CADL,CAAR;AAGA,eAAOf,KAAK,CAACsB,IAAN,CACJ,uEAAsEE,QAAQ,CAACG,IAAT,CAAcC,OAAQ,EADxF,EAEL;AAAEb,UAAAA,QAAQ,EAAEA,QAAZ;AAAsBT,UAAAA,MAAM,EAAEkB,QAAQ,CAACG,IAAT,CAAcE;AAA5C,SAFK,CAAP;AAID,OAdH,EAeGN,IAfH,CAeSC,QAAD,IAAc;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACD,OAjBH,EAkBGM,KAlBH,CAkBUrB,KAAD,IAAW;AAChBgB,QAAAA,OAAO,CAACC,GAAR,CAAYjB,KAAZ;;AACA,YAAI,OAAOA,KAAP,IAAgB,QAApB,EAA8B;AAC5BO,UAAAA,QAAQ,CAACR,QAAQ,CAACC,KAAD,CAAT,CAAR;AACD,SAFD,MAEO;AACL;AACAO,UAAAA,QAAQ,CAACR,QAAQ,CAAC,2CAAD,CAAT,CAAR;AACD;AACF,OA1BH;AA2BD;AACF,GApDD;AAqDD,CAtDM;AAuDP,OAAO,MAAMuB,UAAU,GAAG,MAAM;AAC9B,SAAO;AAAE7B,IAAAA,IAAI,EAAEH,WAAW,CAACiC;AAApB,GAAP;AACD,CAFM;AAGP,OAAO,MAAMC,YAAY,GAAG,CAAC5B,KAAD,EAAQC,MAAR,KAAmB;AAC7C,SAAO;AACLJ,IAAAA,IAAI,EAAEH,WAAW,CAACmC,aADb;AAEL7B,IAAAA,KAAK,EAAEA,KAFF;AAGLC,IAAAA,MAAM,EAAEA;AAHH,GAAP;AAKD,CANM;AAOP,OAAO,MAAM6B,SAAS,GAAI1B,KAAD,IAAW;AAClC,SAAO;AAAEP,IAAAA,IAAI,EAAEH,WAAW,CAACqC,UAApB;AAAgC3B,IAAAA,KAAK,EAAEA;AAAvC,GAAP;AACD,CAFM;AAGP,OAAO,MAAMG,KAAK,GAAG,CAACA,KAAD,EAAQC,QAAR,KAAqB;AACxC,SAAQG,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACe,UAAU,EAAX,CAAR;;AACA,QACE,uEAAuEb,IAAvE,CACEN,KADF,KAEK,KAHP,EAIE;AACAI,MAAAA,QAAQ,CAACmB,SAAS,CAAC,2CAAD,CAAV,CAAR;AACD,KAND,MAMO,IAAItB,QAAQ,CAACI,MAAT,GAAkB,CAAlB,IAAuBJ,QAAQ,CAACI,MAAT,GAAkB,EAA7C,EAAiD;AACtDD,MAAAA,QAAQ,CACNmB,SAAS,CAAC,wDAAD,CADH,CAAR;AAGD,KAJM,MAIA;AACL,YAAMhB,QAAQ,GAAG;AACfC,QAAAA,KAAK,EAAER,KADQ;AAEfC,QAAAA,QAAQ,EAAEA,QAFK;AAGfQ,QAAAA,iBAAiB,EAAE;AAHJ,OAAjB;AAKArB,MAAAA,KAAK,CACFsB,IADH,CAEI,mHAFJ,EAGIH,QAHJ,EAKGI,IALH,CAKSC,QAAD,IAAc;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAR,QAAAA,QAAQ,CAACiB,YAAY,CAACT,QAAQ,CAACG,IAAT,CAAcC,OAAf,EAAwBJ,QAAQ,CAACG,IAAT,CAAcE,OAAtC,CAAb,CAAR;AACD,OARH,EASGC,KATH,CASUrB,KAAD,IAAW;AAChBgB,QAAAA,OAAO,CAACC,GAAR,CAAYjB,KAAZ;;AACA,YAAI,OAAOA,KAAP,IAAgB,QAApB,EAA8B;AAC5BO,UAAAA,QAAQ,CAACmB,SAAS,CAAC1B,KAAD,CAAV,CAAR;AACD,SAFD,MAEO;AACL;AACAO,UAAAA,QAAQ,CAACmB,SAAS,CAAC,uCAAD,CAAV,CAAR;AACD;AACF,OAjBH;AAkBD;AACF,GArCD;AAsCD,CAvCM;AAwCP,OAAO,MAAME,OAAO,GAAIC,IAAD,IAAU;AAC/B,SAAO;AAAEpC,IAAAA,IAAI,EAAEH,WAAW,CAACwC,QAApB;AAA8BD,IAAAA,IAAI,EAAEA;AAApC,GAAP;AACD,CAFM;AAGP,OAAO,MAAME,eAAe,GAAIF,IAAD,IAAU;AACvC,SAAQtB,QAAD,IAAc;AACnB,QAAIsB,IAAI,IAAI,MAAZ,EAAoB;AAClBtB,MAAAA,QAAQ,CAACqB,OAAO,CAAC,MAAD,CAAR,CAAR;AACD,KAFD,MAEO;AACLrB,MAAAA,QAAQ,CAACqB,OAAO,CAACC,IAAD,CAAR,CAAR;AACD;AACF,GAND;AAOD,CARM;AASP,OAAO,MAAMG,MAAM,GAAG,MAAM;AAC1B,SAAO;AAAEvC,IAAAA,IAAI,EAAEH,WAAW,CAAC2C;AAApB,GAAP;AACD,CAFM,C,CAGP;AACA;AACA;;AACA,OAAO,MAAMC,cAAc,GAAIlC,KAAD,IAAW;AACvC,SAAO;AAAEP,IAAAA,IAAI,EAAEH,WAAW,CAAC6C,gBAApB;AAAsCnC,IAAAA,KAAK,EAAEA;AAA7C,GAAP;AACD,CAFM;AAGP,OAAO,MAAMoC,eAAe,GAAG,MAAM;AACnC,SAAO;AAAE3C,IAAAA,IAAI,EAAEH,WAAW,CAAC+C;AAApB,GAAP;AACD,CAFM;AAGP,OAAO,MAAMC,iBAAiB,GAAG,MAAM;AACrC,SAAO;AACL7C,IAAAA,IAAI,EAAEH,WAAW,CAACiD;AADb,GAAP;AAGD,CAJM;AAKP,OAAO,MAAMC,UAAU,GAAG,CAACC,IAAD,EAAOC,WAAP,EAAoB7C,MAApB,EAA4BD,KAA5B,KAAsC;AAC9D,SAAQW,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC6B,eAAe,EAAhB,CAAR;;AAEA,QAAIK,IAAI,CAACjC,MAAL,GAAc,CAAd,IAAmBiC,IAAI,CAACjC,MAAL,GAAc,EAArC,EAAyC;AACvCD,MAAAA,QAAQ,CACN2B,cAAc,CAAC,oDAAD,CADR,CAAR;AAGD,KAJD,MAIO,IAAIQ,WAAW,CAAClC,MAAZ,GAAqB,CAArB,IAA0BkC,WAAW,CAAClC,MAAZ,GAAqB,GAAnD,EAAwD;AAC7DD,MAAAA,QAAQ,CACN2B,cAAc,CACZ,4DADY,CADR,CAAR;AAKD,KANM,MAMA;AACL,YAAMS,IAAI,GAAG;AACXF,QAAAA,IAAI,EAAEA,IADK;AAEXC,QAAAA,WAAW,EAAEA,WAFF;AAGXE,QAAAA,OAAO,EAAE/C,MAHE;AAIXgD,QAAAA,OAAO,EAAE;AAJE,OAAb;AAMAtD,MAAAA,KAAK,CACFsB,IADH,CAEK,uEAAsEjB,KAAM,EAFjF,EAGI+C,IAHJ,EAKG7B,IALH,CAKSC,QAAD,IAAc;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAR,QAAAA,QAAQ,CAAC+B,iBAAiB,EAAlB,CAAR;AACD,OARH,EASGjB,KATH,CASUrB,KAAD,IAAW;AAChBgB,QAAAA,OAAO,CAACC,GAAR,CAAYjB,KAAZ;;AACA,YAAI,OAAOA,KAAP,IAAgB,QAApB,EAA8B;AAC5BO,UAAAA,QAAQ,CAAC2B,cAAc,CAAClC,KAAD,CAAf,CAAR;AACD,SAFD,MAEO;AACLgB,UAAAA,OAAO,CAACC,GAAR,CAAYjB,KAAZ,EADK,CAEL;;AACAO,UAAAA,QAAQ,CAAC2B,cAAc,CAAC,6BAAD,CAAf,CAAR;AACD;AACF,OAlBH;AAmBD;AACF,GAxCD;AAyCD,CA1CM;AA2CP,OAAO,MAAMY,gBAAgB,GAAG,MAAM;AACpC,SAAO;AAAErD,IAAAA,IAAI,EAAEH,WAAW,CAACyD;AAApB,GAAP;AACD,CAFM;AAGP,OAAO,MAAMC,eAAe,GAAIhD,KAAD,IAAW;AACxC,SAAO;AAAEP,IAAAA,IAAI,EAAEH,WAAW,CAAC2D,iBAApB;AAAuCjD,IAAAA,KAAK,EAAEA;AAA9C,GAAP;AACD,CAFM;AAGP,OAAO,MAAMkD,kBAAkB,GAAIC,KAAD,IAAW;AAC3C,SAAO;AACL1D,IAAAA,IAAI,EAAEH,WAAW,CAAC8D,oBADb;AAELD,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;;AAMP,SAASE,YAAT,CAAsBxD,MAAtB,EAA8ByD,WAA9B,EAA2C;AACzC,MAAIC,UAAU,GAAG,EAAjB;AACAC,EAAAA,MAAM,CAACC,MAAP,CAAcH,WAAd,EAA2BI,GAA3B,CAAgCf,IAAD,IAAU;AACvC,QAAIA,IAAI,CAACC,OAAL,IAAgB/C,MAApB,EAA4B;AAC1B0D,MAAAA,UAAU,CAACI,IAAX,CAAgBhB,IAAhB;AACD;AACF,GAJD;AAKD;;AACD,OAAO,MAAMiB,WAAW,GAAG,CAAC/D,MAAD,EAASD,KAAT,KAAmB;AAC5C,SAAQW,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACuC,gBAAgB,EAAjB,CAAR;AACAvD,IAAAA,KAAK,CACFsE,GADH,CAEK,uEAAsEjE,KAAM,EAFjF,EAIGkB,IAJH,CAISC,QAAD,IAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AACAX,MAAAA,QAAQ,CAAC2C,kBAAkB,CAACG,YAAY,CAACxD,MAAD,EAASkB,QAAQ,CAACG,IAAlB,CAAb,CAAnB,CAAR;AACD,KAPH,EAQGG,KARH,CAQUrB,KAAD,IAAW;AAChBgB,MAAAA,OAAO,CAACC,GAAR,CAAYjB,KAAZ;;AACA,UAAI,OAAOA,KAAP,IAAgB,QAApB,EAA8B;AAC5BO,QAAAA,QAAQ,CAACyC,eAAe,CAAChD,KAAD,CAAhB,CAAR;AACD,OAFD,MAEO;AACLgB,QAAAA,OAAO,CAACC,GAAR,CAAYjB,KAAZ,EADK,CAEL;;AACAO,QAAAA,QAAQ,CAACyC,eAAe,CAAC,6BAAD,CAAhB,CAAR;AACD;AACF,KAjBH;AAkBD,GApBD;AAqBD,CAtBM","sourcesContent":["import * as actionTypes from \"./actionTypes\";\nimport axios from \"axios\";\nexport const authStart = () => {\n  return { type: actionTypes.AUTH_START };\n};\nexport const authSuccess = (token, userId) => {\n  return {\n    type: actionTypes.AUTH_SUCCESS,\n    token: token,\n    userId: userId,\n  };\n};\nexport const authFail = (error) => {\n  return { type: actionTypes.AUTH_FAIL, error: error };\n};\nexport const auth = (login, password, repeatPassword, nickname) => {\n  return (dispatch) => {\n    dispatch(authStart());\n    if (nickname.length < 4 || nickname.length > 25) {\n      dispatch(\n        authFail(\"Ooops, nickname has to be between 4 and 25 characters!\")\n      );\n    } else if (\n      /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(\n        login\n      ) == false\n    ) {\n      dispatch(authFail(\"Ooops, it seems that email isn't correct!\"));\n    } else if (password.length < 6 || password.length > 20) {\n      dispatch(\n        authFail(\"Ooops, password has to be between 6 and 20 characters!\")\n      );\n    } else if (repeatPassword !== password) {\n      dispatch(authFail(\"Ooops, passwords do not match!\"));\n    } else {\n      const authData = {\n        email: login,\n        password: password,\n        returnSecureToken: true,\n      };\n      axios\n        .post(\n          \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyByJGBJ1ZfClAOLx6PR3391TK2f7bZM6bs\",\n          authData\n        )\n        .then((response) => {\n          console.log(response);\n          dispatch(\n            authSuccess(response.data.idToken, response.data.localId, nickname)\n          );\n          return axios.post(\n            `https://strongmanagment-default-rtdb.firebaseio.com/users.json?auth=${response.data.idToken}`,\n            { nickname: nickname, userId: response.data.localId }\n          );\n        })\n        .then((response) => {\n          console.log(response);\n        })\n        .catch((error) => {\n          console.log(error);\n          if (typeof error == \"string\") {\n            dispatch(authFail(error));\n          } else {\n            // if error.response \"ooips email already exists\"\n            dispatch(authFail(\"Ooops user with this email already exists\"));\n          }\n        });\n    }\n  };\n};\nexport const loginStart = () => {\n  return { type: actionTypes.LOGIN_START };\n};\nexport const loginSuccess = (token, userId) => {\n  return {\n    type: actionTypes.LOGIN_SUCCESS,\n    token: token,\n    userId: userId,\n  };\n};\nexport const loginFail = (error) => {\n  return { type: actionTypes.LOGIN_FAIL, error: error };\n};\nexport const login = (login, password) => {\n  return (dispatch) => {\n    dispatch(loginStart());\n    if (\n      /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(\n        login\n      ) == false\n    ) {\n      dispatch(loginFail(\"Ooops, it seems that email isn't correct!\"));\n    } else if (password.length < 6 || password.length > 20) {\n      dispatch(\n        loginFail(\"Ooops, password has to be between 6 and 20 characters!\")\n      );\n    } else {\n      const authData = {\n        email: login,\n        password: password,\n        returnSecureToken: true,\n      };\n      axios\n        .post(\n          \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyByJGBJ1ZfClAOLx6PR3391TK2f7bZM6bs\",\n          authData\n        )\n        .then((response) => {\n          console.log(response);\n          dispatch(loginSuccess(response.data.idToken, response.data.localId));\n        })\n        .catch((error) => {\n          console.log(error);\n          if (typeof error == \"string\") {\n            dispatch(loginFail(error));\n          } else {\n            // if error.response \"ooips email already exists\"\n            dispatch(loginFail(\"Ooops, login or password is incorrect\"));\n          }\n        });\n    }\n  };\n};\nexport const setPath = (path) => {\n  return { type: actionTypes.SET_PATH, path: path };\n};\nexport const setRedirectPath = (path) => {\n  return (dispatch) => {\n    if (path == \"null\") {\n      dispatch(setPath(\"null\"));\n    } else {\n      dispatch(setPath(path));\n    }\n  };\n};\nexport const logout = () => {\n  return { type: actionTypes.LOGOUT };\n};\n//\n//\n//\nexport const createWorkFail = (error) => {\n  return { type: actionTypes.CREATE_WORK_FAIL, error: error };\n};\nexport const createWorkStart = () => {\n  return { type: actionTypes.CREATE_WORK_START };\n};\nexport const createWorkSuccess = () => {\n  return {\n    type: actionTypes.CREATE_WORK_SUCCESS,\n  };\n};\nexport const createWork = (name, description, userId, token) => {\n  return (dispatch) => {\n    dispatch(createWorkStart());\n\n    if (name.length < 1 || name.length > 50) {\n      dispatch(\n        createWorkFail(\"Ooops, name has to be between 1 and 20 characters!\")\n      );\n    } else if (description.length < 3 || description.length > 500) {\n      dispatch(\n        createWorkFail(\n          \"Ooops, description has to be between 3 and 500 characters!\"\n        )\n      );\n    } else {\n      const work = {\n        name: name,\n        description: description,\n        ownerId: userId,\n        workers: [],\n      };\n      axios\n        .post(\n          `https://strongmanagment-default-rtdb.firebaseio.com/works.json?auth=${token}`,\n          work\n        )\n        .then((response) => {\n          console.log(response);\n          dispatch(createWorkSuccess());\n        })\n        .catch((error) => {\n          console.log(error);\n          if (typeof error == \"string\") {\n            dispatch(createWorkFail(error));\n          } else {\n            console.log(error);\n            // if error.response \"ooips email already exists\"\n            dispatch(createWorkFail(\"Ooops, some propblem exists\"));\n          }\n        });\n    }\n  };\n};\nexport const uploadWorksStart = () => {\n  return { type: actionTypes.UPLOAD_WORKS_START };\n};\nexport const uploadWorksFail = (error) => {\n  return { type: actionTypes.UPLOAD_WORKS_FAIL, error: error };\n};\nexport const uploadWorksSuccess = (works) => {\n  return {\n    type: actionTypes.UPLOAD_WORKS_SUCCESS,\n    works: works,\n  };\n};\nfunction getUserWorks(userId, worksObject) {\n  let worksArray = [];\n  Object.values(worksObject).map((work) => {\n    if (work.ownerId == userId) {\n      worksArray.push(work);\n    }\n  });\n}\nexport const uploadWorks = (userId, token) => {\n  return (dispatch) => {\n    dispatch(uploadWorksStart());\n    axios\n      .get(\n        `https://strongmanagment-default-rtdb.firebaseio.com/works.json?auth=${token}`\n      )\n      .then((response) => {\n        console.log(response.data);\n        dispatch(uploadWorksSuccess(getUserWorks(userId, response.data)));\n      })\n      .catch((error) => {\n        console.log(error);\n        if (typeof error == \"string\") {\n          dispatch(uploadWorksFail(error));\n        } else {\n          console.log(error);\n          // if error.response \"ooips email already exists\"\n          dispatch(uploadWorksFail(\"Ooops, some propblem exists\"));\n        }\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}