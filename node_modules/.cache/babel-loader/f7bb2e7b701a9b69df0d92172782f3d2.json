{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/vladichka/Boichuk/src/components/User/User.js\";\nimport React, { Component } from \"react\";\nimport \"../../../node_modules/@fortawesome/fontawesome-free/css/all.css\";\nimport classes from \"./User.module.css\";\nimport femaleUser from \"./femaleUser.png\";\nimport { connect } from \"react-redux\";\nimport InputElement from \"../../components/UI/Input/Input\";\nimport { Redirect } from \"react-router-dom\";\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\n\nclass User extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      delete: false,\n      addTask: false,\n      controls: {\n        WorkName: {\n          elementType: \"input\",\n          elementConfig: {\n            type: \"\",\n            placeholder: \"make coffe\"\n          },\n          label: \"Task name\",\n          touched: false,\n          value: \"\",\n          validation: {\n            required: true,\n            valid: false,\n            minLength: 1,\n            maxLength: 20,\n            isEmail: false\n          }\n        },\n        WorkDescription: {\n          elementType: \"textarea\",\n          elementConfig: {\n            type: \"\",\n            placeholder: \"At w3schools.com you will learn how to make a website. They offer free tutorials in all web development technologies.\"\n          },\n          label: \"Description\",\n          touched: false,\n          value: \"\",\n          validation: {\n            required: true,\n            valid: false,\n            minLength: 3,\n            maxLength: 500\n          }\n        }\n      },\n      signUp: true\n    };\n\n    this.inputChangedHandler = (event, controlName) => {\n      const updatedControls = { ...this.state.controls,\n        [controlName]: { ...this.state.controls[controlName],\n          value: event.target.value,\n          validation: { ...this.state.controls[controlName].validation,\n            valid: this.checkValidity(event.target.value, this.state.controls[controlName].validation)\n          },\n          touched: true\n        }\n      };\n      this.setState({\n        controls: updatedControls\n      });\n    };\n\n    this.cancelDelete = () => {\n      if (this.state.addTask) {\n        this.setState({\n          addTask: !this.state.addTask\n        });\n      }\n\n      this.setState({\n        delete: !this.state.delete\n      });\n    };\n\n    this.addTaskFunc = () => {\n      if (this.state.delete) {\n        this.setState({\n          delete: !this.state.delete\n        });\n      }\n\n      this.setState({\n        addTask: !this.state.addTask\n      });\n    };\n\n    this.startCreatingTask = () => {\n      this.cancelDelete();\n      this.props.onAddTask();\n    };\n  }\n\n  checkValidity(value, rules) {\n    let isValid = true;\n\n    if (!rules) {\n      return true;\n    }\n\n    if (rules.required) {\n      isValid = value.trim() !== \"\" && isValid;\n    }\n\n    if (rules.minLength) {\n      isValid = value.length >= rules.minLength && isValid;\n    }\n\n    if (rules.maxLength) {\n      isValid = value.length <= rules.maxLength && isValid;\n    }\n\n    if (rules.isEmail) {\n      const pattern = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n      console.log(value);\n      isValid = pattern.test(value) && isValid;\n      console.log(isValid);\n    }\n\n    if (rules.isNumeric) {\n      const pattern = /^\\d+$/;\n      isValid = pattern.test(value) && isValid;\n    }\n\n    return isValid;\n  }\n\n  render() {\n    const formElementsArray = [];\n\n    for (let key in this.state.controls) {\n      formElementsArray.push({\n        id: key,\n        config: this.state.controls[key]\n      });\n    }\n\n    let form = formElementsArray.map(element => {\n      return /*#__PURE__*/_jsxDEV(InputElement, {\n        changed: event => this.inputChangedHandler(event, element.id),\n        elementType: element.config.elementType,\n        elementConfig: element.config.elementConfig,\n        invalid: !element.config.validation.valid,\n        value: element.config.value,\n        shouldValidate: element.config.validation.required,\n        touched: element.config.touched,\n        label: element.config.label\n      }, element.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this);\n    });\n    let error = null;\n\n    if (this.props.error) {\n      error = /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"style\", {\n          children: \"@import url('https://fonts.googleapis.com/css2?family=Russo+One&display=swap');\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.errorMessage,\n          children: this.props.error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this);\n      console.log(\"fefef\");\n    }\n\n    let spinner = null;\n\n    if (this.props.loading) {\n      spinner = /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this);\n    }\n\n    let redirect = null;\n\n    if (this.props.redirect) {\n      redirect = /*#__PURE__*/_jsxDEV(Redirect, {\n        to: this.props.redirect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 18\n      }, this);\n    }\n\n    if (this.props.redirect == null || this.props.redirect == \"null\") {\n      redirect = null;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      className: classes.User,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.UserMainPart,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.LeftPart,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.DeleteUser,\n            onClick: this.cancelDelete,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-user-minus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: classes.Avatar,\n            src: femaleUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.RightPart,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.TopUserHeader,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.Label,\n              children: this.props.userName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.TaskGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"style\", {\n              children: \"@import url('https://fonts.googleapis.com/css2?family=Langar&family=Pacifico&family=Questrial&display=swap');\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Tasks:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.TaskGroupValue,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-tasks\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.TaskGroupValue,\n              children: this.props.userTasks\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.RatingGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"style\", {\n              children: \"@import url('https://fonts.googleapis.com/css2?family=Langar&family=Pacifico&family=Questrial&display=swap');\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Rating:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.RatingGroupValue,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"far fa-smile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.TaskGroupValue,\n              children: \"88/100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: classes.ButtonAddTask,\n            onClick: this.addTaskFunc,\n            children: \"Add task\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.state.delete ? [classes.active, classes.DeleteContainer].join(\" \") : classes.DeleteContainer,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.container,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Delete User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Are you sure you want to delete your user?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.clearfix,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: this.cancelDelete,\n              className: classes.cancelbtn,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: classes.deletebtn,\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.state.addTask ? [classes.active, classes.addTaskContainer].join(\" \") : classes.addTaskContainer,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.addTask,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Add task\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: classes.form,\n            children: [form, error, /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.clearfix,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: this.addTaskFunc,\n                className: classes.cancelbtn,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: this.startCreatingTask,\n                className: classes.deletebtn,\n                children: \"Create\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    token: state.auth.token,\n    userId: state.auth.userId\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onAddTask: (workId, recipientId, token, taskLabel, taskDescription) => dispatch(actions.addTask(workId, recipientId, token, taskLabel, taskDescription))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(User);","map":{"version":3,"sources":["/home/vladichka/Boichuk/src/components/User/User.js"],"names":["React","Component","classes","femaleUser","connect","InputElement","Redirect","Spinner","User","state","delete","addTask","controls","WorkName","elementType","elementConfig","type","placeholder","label","touched","value","validation","required","valid","minLength","maxLength","isEmail","WorkDescription","signUp","inputChangedHandler","event","controlName","updatedControls","target","checkValidity","setState","cancelDelete","addTaskFunc","startCreatingTask","props","onAddTask","rules","isValid","trim","length","pattern","console","log","test","isNumeric","render","formElementsArray","key","push","id","config","form","map","element","error","errorMessage","spinner","loading","redirect","UserMainPart","LeftPart","DeleteUser","Avatar","RightPart","TopUserHeader","Label","userName","TaskGroup","TaskGroupValue","userTasks","RatingGroup","RatingGroupValue","ButtonAddTask","active","DeleteContainer","join","container","clearfix","cancelbtn","deletebtn","addTaskContainer","mapStateToProps","token","auth","userId","mapDispatchToProps","dispatch","workId","recipientId","taskLabel","taskDescription","actions"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../../../node_modules/@fortawesome/fontawesome-free/css/all.css\";\nimport classes from \"./User.module.css\";\nimport femaleUser from \"./femaleUser.png\";\nimport { connect } from \"react-redux\";\n\nimport InputElement from \"../../components/UI/Input/Input\";\nimport { Redirect } from \"react-router-dom\";\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\n\nclass User extends Component {\n  state = {\n    delete: false,\n    addTask: false,\n    controls: {\n      WorkName: {\n        elementType: \"input\",\n        elementConfig: {\n          type: \"\",\n          placeholder: \"make coffe\",\n        },\n        label: \"Task name\",\n        touched: false,\n        value: \"\",\n        validation: {\n          required: true,\n          valid: false,\n          minLength: 1,\n          maxLength: 20,\n          isEmail: false,\n        },\n      },\n      WorkDescription: {\n        elementType: \"textarea\",\n        elementConfig: {\n          type: \"\",\n          placeholder:\n            \"At w3schools.com you will learn how to make a website. They offer free tutorials in all web development technologies.\",\n        },\n        label: \"Description\",\n        touched: false,\n        value: \"\",\n        validation: {\n          required: true,\n          valid: false,\n          minLength: 3,\n          maxLength: 500,\n        },\n      },\n    },\n    signUp: true,\n  };\n  checkValidity(value, rules) {\n    let isValid = true;\n    if (!rules) {\n      return true;\n    }\n    if (rules.required) {\n      isValid = value.trim() !== \"\" && isValid;\n    }\n    if (rules.minLength) {\n      isValid = value.length >= rules.minLength && isValid;\n    }\n    if (rules.maxLength) {\n      isValid = value.length <= rules.maxLength && isValid;\n    }\n    if (rules.isEmail) {\n      const pattern = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n      console.log(value);\n      isValid = pattern.test(value) && isValid;\n      console.log(isValid);\n    }\n    if (rules.isNumeric) {\n      const pattern = /^\\d+$/;\n      isValid = pattern.test(value) && isValid;\n    }\n    return isValid;\n  }\n  inputChangedHandler = (event, controlName) => {\n    const updatedControls = {\n      ...this.state.controls,\n      [controlName]: {\n        ...this.state.controls[controlName],\n        value: event.target.value,\n        validation: {\n          ...this.state.controls[controlName].validation,\n          valid: this.checkValidity(\n            event.target.value,\n            this.state.controls[controlName].validation\n          ),\n        },\n        touched: true,\n      },\n    };\n    this.setState({ controls: updatedControls });\n  };\n\n  cancelDelete = () => {\n    if (this.state.addTask) {\n      this.setState({\n        addTask: !this.state.addTask,\n      });\n    }\n    this.setState({\n      delete: !this.state.delete,\n    });\n  };\n\n  addTaskFunc = () => {\n    if (this.state.delete) {\n      this.setState({\n        delete: !this.state.delete,\n      });\n    }\n    this.setState({\n      addTask: !this.state.addTask,\n    });\n  };\n  startCreatingTask = () => {\n    this.cancelDelete();\n    this.props.onAddTask();\n  };\n\n  render() {\n    const formElementsArray = [];\n    for (let key in this.state.controls) {\n      formElementsArray.push({\n        id: key,\n        config: this.state.controls[key],\n      });\n    }\n    let form = formElementsArray.map((element) => {\n      return (\n        <InputElement\n          key={element.id}\n          changed={(event) => this.inputChangedHandler(event, element.id)}\n          elementType={element.config.elementType}\n          elementConfig={element.config.elementConfig}\n          invalid={!element.config.validation.valid}\n          value={element.config.value}\n          shouldValidate={element.config.validation.required}\n          touched={element.config.touched}\n          label={element.config.label}\n        />\n      );\n    });\n    let error = null;\n    if (this.props.error) {\n      error = (\n        <React.Fragment>\n          <style>\n            @import\n            url('https://fonts.googleapis.com/css2?family=Russo+One&display=swap');\n          </style>\n          <div className={classes.errorMessage}>{this.props.error}</div>\n        </React.Fragment>\n      );\n      console.log(\"fefef\");\n    }\n    let spinner = null;\n    if (this.props.loading) {\n      spinner = <Spinner />;\n    }\n    let redirect = null;\n    if (this.props.redirect) {\n      redirect = <Redirect to={this.props.redirect} />;\n    }\n    if (this.props.redirect == null || this.props.redirect == \"null\") {\n      redirect = null;\n    }\n\n    return (\n      <li className={classes.User}>\n        <div className={classes.UserMainPart}>\n          <div className={classes.LeftPart}>\n            <div className={classes.DeleteUser} onClick={this.cancelDelete}>\n              <i class=\"fas fa-user-minus\"></i>\n            </div>\n            <img className={classes.Avatar} src={femaleUser} />\n          </div>\n          <div className={classes.RightPart}>\n            <div className={classes.TopUserHeader}>\n              <div className={classes.Label}>{this.props.userName}</div>\n            </div>\n            <div className={classes.TaskGroup}>\n              <style>\n                @import\n                url('https://fonts.googleapis.com/css2?family=Langar&family=Pacifico&family=Questrial&display=swap');\n              </style>\n              <div>Tasks:</div>\n              <div className={classes.TaskGroupValue}>\n                <i class=\"fas fa-tasks\"></i>\n              </div>\n              <div className={classes.TaskGroupValue}>\n                {this.props.userTasks}\n              </div>\n            </div>\n            <div className={classes.RatingGroup}>\n              <style>\n                @import\n                url('https://fonts.googleapis.com/css2?family=Langar&family=Pacifico&family=Questrial&display=swap');\n              </style>\n              <div>Rating:</div>\n              <div className={classes.RatingGroupValue}>\n                <i class=\"far fa-smile\"></i>\n              </div>\n              <div className={classes.TaskGroupValue}>{\"88/100\"}</div>\n            </div>\n            <button\n              className={classes.ButtonAddTask}\n              onClick={this.addTaskFunc}\n            >\n              Add task\n            </button>\n          </div>\n        </div>\n        <div\n          className={\n            this.state.delete\n              ? [classes.active, classes.DeleteContainer].join(\" \")\n              : classes.DeleteContainer\n          }\n        >\n          <div className={classes.container}>\n            <h1>Delete User</h1>\n            <p>Are you sure you want to delete your user?</p>\n\n            <div className={classes.clearfix}>\n              <button\n                type=\"button\"\n                onClick={this.cancelDelete}\n                className={classes.cancelbtn}\n              >\n                Cancel\n              </button>\n              <button type=\"button\" className={classes.deletebtn}>\n                Delete\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div\n          className={\n            this.state.addTask\n              ? [classes.active, classes.addTaskContainer].join(\" \")\n              : classes.addTaskContainer\n          }\n        >\n          <div className={classes.addTask}>\n            <h1>Add task</h1>\n            <form className={classes.form}>\n              {form}\n              {error}\n              <div className={classes.clearfix}>\n                <button\n                  type=\"button\"\n                  onClick={this.addTaskFunc}\n                  className={classes.cancelbtn}\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={this.startCreatingTask}\n                  className={classes.deletebtn}\n                >\n                  Create\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </li>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    token: state.auth.token,\n    userId: state.auth.userId,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onAddTask: (workId, recipientId, token, taskLabel, taskDescription) =>\n      dispatch(\n        actions.addTask(workId, recipientId, token, taskLabel, taskDescription)\n      ),\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(User);\n"]},"metadata":{},"sourceType":"module"}